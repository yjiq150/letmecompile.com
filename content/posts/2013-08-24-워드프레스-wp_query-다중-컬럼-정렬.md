---
title: 워드프레스 WP_Query 다중 컬럼 정렬
author: yjiq150
type: post
date: 2013-08-24T11:32:23+00:00
url: /워드프레스-wp_query-다중-컬럼-정렬/
dsq_thread_id:
  - 1653562358
crp_related_posts:
  - '<div class="crp_related  "><h3>관련 포스트:</h3><ul><li><a href="https://www.letmecompile.com/mysql-innodb-lock-deadlock/"     class="post-763"><span class="crp_title">MySQL InnoDB lock & deadlock 이해하기</span></a></li><li><a href="https://www.letmecompile.com/mysql-innodb-auto-increment-%ec%84%b1%eb%8a%a5-%ec%b5%9c%ec%a0%81%ed%99%94/"     class="post-750"><span class="crp_title">MySQL - InnoDB Auto Increment 성능 최적화</span></a></li><li><a href="https://www.letmecompile.com/shotcut-linux-server-video-generation/"     class="post-753"><span class="crp_title">Shotcut을 이용하여 리눅스 서버에서 템플릿 기반의 동영상 만들기</span></a></li><li><a href="https://www.letmecompile.com/chrome-extension-with-react/"     class="post-776"><span class="crp_title">크롬 익스텐션 개발 + 리액트 적용하기</span></a></li><li><a href="https://www.letmecompile.com/mac-app-recommendation-for-developer/"     class="post-836"><span class="crp_title">개발자를 위한 필수 맥 앱(Mac App) 10선</span></a></li></ul><div class="crp_clear"></div></div>'
crp_related_posts_feed:
  - '<div class="crp_related  "><h3>관련 포스트:</h3><ul><li><a href="https://www.letmecompile.com/mysql-innodb-lock-deadlock/"     class="post-763"><span class="crp_title">MySQL InnoDB lock & deadlock 이해하기</span></a></li><li><a href="https://www.letmecompile.com/mysql-innodb-auto-increment-%ec%84%b1%eb%8a%a5-%ec%b5%9c%ec%a0%81%ed%99%94/"     class="post-750"><span class="crp_title">MySQL - InnoDB Auto Increment 성능 최적화</span></a></li><li><a href="https://www.letmecompile.com/shotcut-linux-server-video-generation/"     class="post-753"><span class="crp_title">Shotcut을 이용하여 리눅스 서버에서 템플릿 기반의 동영상 만들기</span></a></li><li><a href="https://www.letmecompile.com/chrome-extension-with-react/"     class="post-776"><span class="crp_title">크롬 익스텐션 개발 + 리액트 적용하기</span></a></li><li><a href="https://www.letmecompile.com/mac-app-recommendation-for-developer/"     class="post-836"><span class="crp_title">개발자를 위한 필수 맥 앱(Mac App) 10선</span></a></li></ul><div class="crp_clear"></div></div>'
categories:
  - 웹 개발
  - 워드프레스 개발
tags:
  - WP_Query
  - 다중 정렬
  - 멀티 컬럼 정렬
  - 정렬 구문
  - wordpress 정렬 쿼리

---
`WP_Query`를 이용해서 포스트를 불러올 경우 기본 제공되는 정렬 조건의 경우 제한적으로 작동한다(다중 컬럼에 대해 DESC와 ASC를 섞어서 복합적으로 정렬하는 것이 불가능하다). 따라서 2개이상의 여러 컬럼에 대해서 복잡한 정렬을 하려면 다음과 같은 필터를 이용하면 된다.

<pre>&lt;cofunction filter_orderby_custom( $orderby = '' ) {

    $orderby = "menu_order DESC, post_date ASC";

    return $orderby;

}

$args = array('post_type' =&gt; 'portfolio', 'posts_per_page' =&gt; -1);  



add_filter( 'posts_orderby', 'filter_orderby_custom' ); 

$loop = new WP_Query($args);

remove_filter( 'posts_orderby', 'filter_orderby_custom' ); 
</pre>

`"menu_order DESC, post_date DESC"` 구문 자체는 필터를 통해 실제 SQL 구문에 추가되어 적용되는 문자열이므로, MySQL문법에 맞게만 작성하면 정상 동작한다.